(function(e){function o(o){for(var t,r,s=o[0],c=o[1],u=o[2],g=0,m=[];g<s.length;g++)r=s[g],a[r]&&m.push(a[r][0]),a[r]=0;for(t in c)Object.prototype.hasOwnProperty.call(c,t)&&(e[t]=c[t]);d&&d(o);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,o=0;o<i.length;o++){for(var n=i[o],t=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(t=!1)}t&&(i.splice(o--,1),e=s(s.s=n[0]))}return e}var t={},a={index:0},i=[];function r(e){return s.p+"static/js/"+({"pages-finance-finance~pages-home-home~pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-r~e36599f9":"pages-finance-finance~pages-home-home~pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-r~e36599f9","pages-finance-finance~pages-order-order":"pages-finance-finance~pages-order-order","pages-finance-finance":"pages-finance-finance","pages-home-home~pages-order-orderInfo":"pages-home-home~pages-order-orderInfo","pages-home-home":"pages-home-home","pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-roomSetting~pages-mine-room-roomTypeSet~2d4b3297":"pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-roomSetting~pages-mine-room-roomTypeSet~2d4b3297","pages-order-orderInfo":"pages-order-orderInfo","pages-mine-mine":"pages-mine-mine","pages-mine-room-roomRoomType":"pages-mine-room-roomRoomType","pages-mine-room-roomSetting":"pages-mine-room-roomSetting","pages-mine-room-roomTypeSetting":"pages-mine-room-roomTypeSetting","pages-order-order":"pages-order-order","pages-login-forget~pages-login-login~pages-login-register":"pages-login-forget~pages-login-login~pages-login-register","pages-login-forget":"pages-login-forget","pages-login-login":"pages-login-login","pages-login-register":"pages-login-register","pages-order-roomOrder":"pages-order-roomOrder"}[e]||e)+"."+{"pages-finance-finance~pages-home-home~pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-r~e36599f9":"671b962b","pages-finance-finance~pages-order-order":"c132b9ed","pages-finance-finance":"0aa612c7","pages-home-home~pages-order-orderInfo":"c2032617","pages-home-home":"3b1c3eaa","pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-roomSetting~pages-mine-room-roomTypeSet~2d4b3297":"0a88969e","pages-order-orderInfo":"f084d237","pages-mine-mine":"ec65e46f","pages-mine-room-roomRoomType":"1606e725","pages-mine-room-roomSetting":"ad9c8616","pages-mine-room-roomTypeSetting":"63557f6d","pages-order-order":"6e5e4d99","pages-login-forget~pages-login-login~pages-login-register":"07aad207","pages-login-forget":"036d298f","pages-login-login":"bfeed0a7","pages-login-register":"0a75072f","pages-order-roomOrder":"03135ec7"}[e]+".js"}function s(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var o=[],n=a[e];if(0!==n)if(n)o.push(n[2]);else{var t=new Promise((function(o,t){n=a[e]=[o,t]}));o.push(n[2]=t);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=r(e),i=function(o){c.onerror=c.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var t=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src,r=new Error("Loading chunk "+e+" failed.\n("+t+": "+i+")");r.type=t,r.request=i,n[1](r)}a[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(o)},s.m=e,s.c=t,s.d=function(e,o,n){s.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,o){if(1&o&&(e=s(e)),8&o)return e;if(4&o&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var t in e)s.d(n,t,function(o){return e[o]}.bind(null,t));return n},s.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(o,"a",o),o},s.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},s.p="./",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=o,c=c.slice();for(var g=0;g<c.length;g++)o(c[g]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,o,n){e.exports=n("6c68")},"1a70":function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t={onLaunch:function(){},onShow:function(){this.$store.commit("initUserInfo")},onHide:function(){}};o.default=t},"3fe6":function(e,o,n){"use strict";var t=n("ee27");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=t(n("e143")),i=t(n("2f62")),r=t(n("b04a")),s=t(n("a9f8")),c=t(n("af97")),u=t(n("41ff"));a.default.use(i.default);var g=new i.default.Store({modules:{order:s.default,home:r.default,login:c.default,finance:u.default}});o.default=g},"41ff":function(e,o,n){"use strict";(function(e){var t=n("ee27");n("a15b"),n("b680"),n("b64b"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;t(n("3fe6"));var a={datePikerIndex:0,financeDate:{before:g(),after:g()},firstDate:"",lastDate:"",hejiData:"",listData:"",dateData:"",orderData:""},i={financeDateChange:function(e,o){e.datePikerIndex=o;var n=new Date,t=new Date,a=0;if(0==e.datePikerIndex)a=0;else{if(1==e.datePikerIndex)return a=1,t=t.setDate(n.getDate()-a),e.firstDate=d(t,!0),e.lastDate=d(t,!1),e.financeDate={before:m(!0,t),after:m(!0,t)},void this.commit("req_financeInit");if(2==e.datePikerIndex)a=6;else if(3==e.datePikerIndex)a=29;else if(4==e.datePikerIndex)a=364;else if(5==e.datePikerIndex)return}t=t.setDate(n.getDate()-a),e.firstDate=d(t,!0),e.lastDate=d(n,!1),e.financeDate={before:m(!0,t),after:m(!0,n)},this.commit("req_financeInit")},financeDateConfirm:function(e,o){if(""==o.range.after)e.financeDate="";else{if(Date.parse(o.range.before)>Date.parse(o.range.after)){var n=o.range.before;o.range.before=o.range.after,o.range.after=n}else Date.parse(o.range.before)==Date.parse(o.range.after)&&(e.financeDate={before:o.range.before,after:o.range.after});e.datePikerIndex=5,e.firstDate=d(o.range.before,!0),e.lastDate=d(o.range.after,!1),e.financeDate=o.range,this.commit("req_financeInit")}},financeInit:function(e){var o=new Date;e.firstDate=d(o,!0),e.lastDate=d(o,!1),e.datePikerIndex=0,this.commit("req_financeInit")},req_financeInit:function(e){c({url:"/api/zxkj/echarts/getOccupancyStatistics",method:"GET",data:{start:e.firstDate,end:e.lastDate},header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){if(200==o.data.code){var n=o.data.data;n.otherData.totalRent=n.otherData.totalRent.toFixed(2),n.otherData.totalAverageHousingPrice=n.otherData.totalAverageHousingPrice.toFixed(2),e.hejiData=n.otherData,e.listData=n.multiwireAmount,e.dateData=n.abscissaName}else uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}}),c({url:"/api/zxkj/echarts/orderPriceStatistics",method:"GET",data:{start:e.firstDate,end:e.lastDate},header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){if(200==o.data.code){var n=o.data.data;n.otherData.total=n.otherData.total.toFixed(2),e.orderData=n}else uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})}},r={startLogin:function(e){var o=e.commit;o("req_login")}},s={state:a,actions:r,mutations:i};function c(o){o.showLoading=void 0==o.showLoading||o.showLoading,o.method=void 0==o.method?"POST":o.method,o.header=void 0==o.header?{"X-Requested-With":"XMLHttpRequest"}:o.header;var n=uni.getStorageSync("userList"),t=uni.getStorageSync("current"),i=null;""==n||null==n||void 0==n||"{}"==n?(n="{}",i=JSON.parse(n)):i=n,o.header.token=i[t],o.header["X-Requested-With"]="XMLHttpRequest",o.showLoading&&uni.showLoading({mask:!0,title:o.showLoadingTitle?o.showLoadingTitle:"加载中..."}),uni.request({url:o.url,data:o.data,header:o.header,method:o.method,success:function(n){if(o.success(n),401==n.data.code)uni.showToast({title:"登录已过期",duration:2e3,icon:"none"}),delete i[t],uni.setStorageSync("userList",JSON.stringify(i)),0===Object.keys(i).length?setTimeout((function(){uni.reLaunch({url:"/pages/login/login"})}),2e3):(uni.setStorageSync("current",u(i)),uni.reLaunch({url:"/pages/home/home"}));else if(void 0!=n.header.authorization){var r=n.header.authorization;if(t=uni.getStorageSync("current"),r)for(var s in e.log(typeof i),i[t]=r,uni.setStorageSync("userList",i),a.loginData=[],i)a.loginData.push(s)}},complete:function(){o.showLoading&&uni.hideLoading()}})}function u(e){for(var o in e)return o}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=new Date;o=new Date(o.setDate(o.getDate()+e));var n=o.getFullYear(),t=o.getMonth()+1,a=o.getDate();t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a);var i=n+"-"+t+"-"+a;return i}function d(e,o){var n="";return n=o?new Date(e).setHours(0,0,0,0):new Date(e).setHours(23,59,59,999),n}function m(e,o){var n=new Date(o),t=""+(n.getMonth()+1),a=""+n.getDate();if(e)var i=n.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),e?[i,t,a].join("-"):[t,a].join("-")}o.default=s}).call(this,n("5a52")["default"])},4675:function(e,o,n){"use strict";var t=n("f5a4"),a=n.n(t);a.a},"53e7":function(e,o,n){"use strict";(function(e){var o=n("ee27"),t=o(n("e143"));e["____B734904____"]=!0,delete e["____B734904____"],e.__uniConfig={tabBar:{color:"#7A7E83",selectedColor:"#007AFF",borderStyle:"black",backgroundColor:"#ffffff",list:[{pagePath:"pages/home/home",iconPath:"static/icon/home.svg",selectedIconPath:"static/icon/homeSelect.svg",text:"房态",redDot:!1,badge:""},{pagePath:"pages/order/order",iconPath:"static/icon/order.svg",selectedIconPath:"static/icon/orderSelect.svg",text:"订单",redDot:!1,badge:""},{pagePath:"pages/finance/finance",iconPath:"static/icon/finance.svg",selectedIconPath:"static/icon/financeSelect.svg",text:"财务",redDot:!1,badge:""},{pagePath:"pages/mine/mine",iconPath:"static/icon/mine.svg",selectedIconPath:"static/icon/mineSelect.svg",text:"我的",redDot:!1,badge:""}]},globalStyle:{navigationBarTextStyle:"white",navigationBarTitleText:"智享未来酒店",navigationBarBackgroundColor:"#007AFF",backgroundColor:"#FFFFFF"}},e.__uniConfig.router={mode:"hash",base:"./"},e.__uniConfig.publicPath="./",e.__uniConfig["async"]={loading:"AsyncLoading",error:"AsyncError",delay:200,timeout:6e4},e.__uniConfig.debug=!1,e.__uniConfig.networkTimeout={request:6e4,connectSocket:6e4,uploadFile:6e4,downloadFile:6e4},e.__uniConfig.sdkConfigs={},e.__uniConfig.qqMapKey="XVXBZ-NDMC4-JOGUS-XGIEE-QVHDZ-AMFV2",e.__uniConfig.nvue={"flex-direction":"column"},e.__uniConfig.__webpack_chunk_load__=n.e,t.default.component("pages-login-login",(function(e){var o={component:Promise.all([n.e("pages-login-forget~pages-login-login~pages-login-register"),n.e("pages-login-login")]).then(function(){return e(n("513b"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),t.default.component("pages-order-order",(function(e){var o={component:Promise.all([n.e("pages-finance-finance~pages-order-order"),n.e("pages-order-order")]).then(function(){return e(n("cf02"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),t.default.component("pages-login-forget",(function(e){var o={component:Promise.all([n.e("pages-login-forget~pages-login-login~pages-login-register"),n.e("pages-login-forget")]).then(function(){return e(n("dd63"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),t.default.component("pages-login-register",(function(e){var o={component:Promise.all([n.e("pages-login-forget~pages-login-login~pages-login-register"),n.e("pages-login-register")]).then(function(){return e(n("8500"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),t.default.component("pages-finance-finance",(function(e){var o={component:Promise.all([n.e("pages-finance-finance~pages-home-home~pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-r~e36599f9"),n.e("pages-finance-finance~pages-order-order"),n.e("pages-finance-finance")]).then(function(){return e(n("6ecc"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),t.default.component("pages-mine-mine",(function(e){var o={component:Promise.all([n.e("pages-finance-finance~pages-home-home~pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-r~e36599f9"),n.e("pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-roomSetting~pages-mine-room-roomTypeSet~2d4b3297"),n.e("pages-mine-mine")]).then(function(){return e(n("a01c"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),t.default.component("pages-home-home",(function(e){var o={component:Promise.all([n.e("pages-finance-finance~pages-home-home~pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-r~e36599f9"),n.e("pages-home-home~pages-order-orderInfo"),n.e("pages-home-home")]).then(function(){return e(n("fca9"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),t.default.component("pages-order-orderInfo",(function(e){var o={component:Promise.all([n.e("pages-finance-finance~pages-home-home~pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-r~e36599f9"),n.e("pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-roomSetting~pages-mine-room-roomTypeSet~2d4b3297"),n.e("pages-home-home~pages-order-orderInfo"),n.e("pages-order-orderInfo")]).then(function(){return e(n("c1dc"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),t.default.component("pages-order-roomOrder",(function(e){var o={component:n.e("pages-order-roomOrder").then(function(){return e(n("df90"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),t.default.component("pages-mine-room-roomRoomType",(function(e){var o={component:Promise.all([n.e("pages-finance-finance~pages-home-home~pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-r~e36599f9"),n.e("pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-roomSetting~pages-mine-room-roomTypeSet~2d4b3297"),n.e("pages-mine-room-roomRoomType")]).then(function(){return e(n("f9c6"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),t.default.component("pages-mine-room-roomTypeSetting",(function(e){var o={component:Promise.all([n.e("pages-finance-finance~pages-home-home~pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-r~e36599f9"),n.e("pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-roomSetting~pages-mine-room-roomTypeSet~2d4b3297"),n.e("pages-mine-room-roomTypeSetting")]).then(function(){return e(n("6d0f"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),t.default.component("pages-mine-room-roomSetting",(function(e){var o={component:Promise.all([n.e("pages-finance-finance~pages-home-home~pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-r~e36599f9"),n.e("pages-mine-mine~pages-mine-room-roomRoomType~pages-mine-room-roomSetting~pages-mine-room-roomTypeSet~2d4b3297"),n.e("pages-mine-room-roomSetting")]).then(function(){return e(n("cba3"))}.bind(null,n)).catch(n.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(o.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(o.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),o})),e.__uniRoutes=[{path:"/",alias:"/pages/login/login",component:{render:function(e){return e("Page",{props:Object.assign({isQuit:!0,isEntry:!0},__uniConfig.globalStyle,{navigationStyle:"custom"})},[e("pages-login-login",{slot:"page"})])}},meta:{id:1,name:"pages-login-login",isNVue:!1,pagePath:"pages/login/login",isQuit:!0,isEntry:!0,windowTop:0}},{path:"/pages/order/order",component:{render:function(e){return e("Page",{props:Object.assign({isQuit:!0,isTabBar:!0,tabBarIndex:1},__uniConfig.globalStyle,{navigationBarTitleText:"订单列表",navigationStyle:"custom"})},[e("pages-order-order",{slot:"page"})])}},meta:{id:2,name:"pages-order-order",isNVue:!1,pagePath:"pages/order/order",isQuit:!0,isTabBar:!0,tabBarIndex:1,windowTop:0}},{path:"/pages/login/forget",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarBackgroundColor:"#FFFFFF",navigationBarTextStyle:"black",navigationBarTitleText:""})},[e("pages-login-forget",{slot:"page"})])}},meta:{name:"pages-login-forget",isNVue:!1,pagePath:"pages/login/forget",windowTop:44}},{path:"/pages/login/register",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarBackgroundColor:"#FFFFFF",navigationBarTextStyle:"black",navigationBarTitleText:""})},[e("pages-login-register",{slot:"page"})])}},meta:{name:"pages-login-register",isNVue:!1,pagePath:"pages/login/register",windowTop:44}},{path:"/pages/finance/finance",component:{render:function(e){return e("Page",{props:Object.assign({isQuit:!0,isTabBar:!0,tabBarIndex:2},__uniConfig.globalStyle,{navigationBarTitleText:"酒店财务"})},[e("pages-finance-finance",{slot:"page"})])}},meta:{id:3,name:"pages-finance-finance",isNVue:!1,pagePath:"pages/finance/finance",isQuit:!0,isTabBar:!0,tabBarIndex:2,windowTop:44}},{path:"/pages/mine/mine",component:{render:function(e){return e("Page",{props:Object.assign({isQuit:!0,isTabBar:!0,tabBarIndex:3},__uniConfig.globalStyle,{navigationBarTitleText:"我的"})},[e("pages-mine-mine",{slot:"page"})])}},meta:{id:4,name:"pages-mine-mine",isNVue:!1,pagePath:"pages/mine/mine",isQuit:!0,isTabBar:!0,tabBarIndex:3,windowTop:44}},{path:"/pages/home/home",component:{render:function(e){return e("Page",{props:Object.assign({isQuit:!0,isTabBar:!0,tabBarIndex:0},__uniConfig.globalStyle,{navigationBarTitleText:"房态",navigationStyle:"custom"})},[e("pages-home-home",{slot:"page"})])}},meta:{id:5,name:"pages-home-home",isNVue:!1,pagePath:"pages/home/home",isQuit:!0,isTabBar:!0,tabBarIndex:0,windowTop:0}},{path:"/pages/order/orderInfo",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"订单详情"})},[e("pages-order-orderInfo",{slot:"page"})])}},meta:{name:"pages-order-orderInfo",isNVue:!1,pagePath:"pages/order/orderInfo",windowTop:44}},{path:"/pages/order/roomOrder",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"房间订单"})},[e("pages-order-roomOrder",{slot:"page"})])}},meta:{name:"pages-order-roomOrder",isNVue:!1,pagePath:"pages/order/roomOrder",windowTop:44}},{path:"/pages/mine/room/roomRoomType",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"房间类型"})},[e("pages-mine-room-roomRoomType",{slot:"page"})])}},meta:{name:"pages-mine-room-roomRoomType",isNVue:!1,pagePath:"pages/mine/room/roomRoomType",windowTop:44}},{path:"/pages/mine/room/roomTypeSetting",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"房型设置"})},[e("pages-mine-room-roomTypeSetting",{slot:"page"})])}},meta:{name:"pages-mine-room-roomTypeSetting",isNVue:!1,pagePath:"pages/mine/room/roomTypeSetting",windowTop:44}},{path:"/pages/mine/room/roomSetting",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"房间设置"})},[e("pages-mine-room-roomSetting",{slot:"page"})])}},meta:{name:"pages-mine-room-roomSetting",isNVue:!1,pagePath:"pages/mine/room/roomSetting",windowTop:44}},{path:"/preview-image",component:{render:function(e){return e("Page",{props:{navigationStyle:"custom"}},[e("system-preview-image",{slot:"page"})])}},meta:{name:"preview-image",pagePath:"/preview-image"}},{path:"/choose-location",component:{render:function(e){return e("Page",{props:{navigationStyle:"custom"}},[e("system-choose-location",{slot:"page"})])}},meta:{name:"choose-location",pagePath:"/choose-location"}},{path:"/open-location",component:{render:function(e){return e("Page",{props:{navigationStyle:"custom"}},[e("system-open-location",{slot:"page"})])}},meta:{name:"open-location",pagePath:"/open-location"}}],e.UniApp&&new e.UniApp}).call(this,n("c8ba"))},"6c68":function(e,o,n){"use strict";(function(e){var o=n("ee27"),t=o(n("f3f3"));n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("53e7"),n("06b9");var a=o(n("e143")),i=o(n("7ba4")),r=o(n("3fe6"));a.default.config.productionTip=!1,a.default.prototype.$store=r.default,i.default.mpType="app";var s=new a.default((0,t.default)({},i.default,{store:r.default}));s.$mount(),a.default.prototype.common_request=function(o){e.log("9999"),o.showLoading=void 0==o.showLoading||o.showLoading,o.method=void 0==o.method?"POST":o.method,o.header=void 0==o.header?{"X-Requested-With":"XMLHttpRequest"}:o.header,void 0!=o.header.token&&""!=o.header.token||(o.header.token=JSON.stringify({token:uni.getStorageSync("token")})),o.showLoading&&uni.showLoading({mask:!0,title:o.showLoadingTitle?o.showLoadingTitle:"加载中..."}),uni.request({url:o.url,data:o.data,header:o.header,method:o.method,success:function(e){e.data.status,e.data.info;var n=e.header.token;if(n){n=uni.getStorageSync("token");uni.setStorageSync("token",n)}o.success(e)},complete:function(){o.showLoading&&uni.hideLoading()}})}}).call(this,n("5a52")["default"])},"7ba4":function(e,o,n){"use strict";n.r(o);var t=n("df25"),a=n("84c2");for(var i in a)"default"!==i&&function(e){n.d(o,e,(function(){return a[e]}))}(i);n("4675");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],r);o["default"]=c.exports},"84c2":function(e,o,n){"use strict";n.r(o);var t=n("1a70"),a=n.n(t);for(var i in t)"default"!==i&&function(e){n.d(o,e,(function(){return t[e]}))}(i);o["default"]=a.a},a9f8:function(e,o,n){"use strict";(function(e){var t=n("ee27");n("4160"),n("a15b"),n("b64b"),n("ac1f"),n("5319"),n("159b"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=t(n("b04a")),i={createOrderDate:{before:d(),after:d(1)},createSource:"",createFormData:"",createRoomType:"",createRoomTypePiker:"",nowRoomType:0,createRoomCount:"",nowRoomCount:0,createPayWay:"",needRefresh:!1,orderPageNum:0,orderList:[],orderPageCanReq:!0,orderId:"",needResetHeight:!1,orderDetailInfo:"",addedDays:1,continuePrice:""},r={req_initCreateInfo:function(e){u({url:"/api/zxkj/metting/getRoomTypeByHotelId",data:{startTime:e.createOrderDate.before,endTime:e.createOrderDate.after},header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){200==o.data.code?(e.createRoomTypePiker=[],e.createRoomCount=[],e.createRoomType=o.data.data,e.nowRoomType=0,e.nowRoomCount=0,e.createFormData="",e.createSource="",e.createRoomType.forEach((function(o){var n=[];e.createRoomTypePiker.push(o.name);for(var t=1;t<=o.roomCount;t++)n.push(t);e.createRoomCount.push(n)})),e.createRoomTypePiker.unshift("选择房型"),e.createRoomCount.unshift(["请先选择房型"]),e.createRoomType.unshift({none:""}),setTimeout((function(){e.needResetHeight=!0}),20)):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},createOrderDateChange:function(e,o){if(""==o.range.after)e.createOrderDate="";else{if(Date.parse(o.range.before)>Date.parse(o.range.after)){var n=o.range.before;o.range.before=o.range.after,o.range.after=n}else if(Date.parse(o.range.before)==Date.parse(o.range.after))return void(e.createOrderDate="");e.createOrderDate=o.range,this.commit("req_initCreateInfo")}},originChange:function(e,o){e.createSource="选择来源"==o?"":o},payWayChange:function(e,o){e.createPayWay="选择方式"==o?"":o},formDataChange:function(e,o){e.createFormData=o},roomTypeChange:function(e,o){e.nowRoomType=o,e.nowRoomCount=0},roomCountChange:function(e,o){e.nowRoomCount=o},isFormOK:function(e){var o=this;""==e.createOrderDate?uni.showModal({title:"错误",content:"请选择入离日期",showCancel:!1}):""==e.createSource?uni.showModal({title:"错误",content:"请选择订单来源",showCancel:!1}):0==e.nowRoomType?uni.showModal({title:"错误",content:"请选择订单房型",showCancel:!1}):uni.showModal({title:"提示",content:"确定创建订单吗？",success:function(e){e.confirm?o.commit("req_createOrder"):e.cancel}})},req_createOrder:function(e){var o=this;void 0==e.createFormData.phone&&(e.createFormData.phone=""),void 0==e.createFormData.remarks&&(e.createFormData.remarks=""),u({url:"/api/zxkj/order/createOTAOrder",data:{startTime:e.createOrderDate.before,endTime:e.createOrderDate.after,source:e.createSource,roomType:e.createRoomType[e.nowRoomType].roomTypeId,roomCount:e.createRoomCount[e.nowRoomType][e.nowRoomCount],price:e.createFormData.price,phone:e.createFormData.phone,owner:e.createFormData.name,remarks:e.createFormData.remarks},header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){200==n.data.code?(e.needRefresh=!0,o.commit("req_initCreateInfo"),uni.showToast({title:"创建成功",duration:2e3})):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},setNeedRefresh:function(e){e.needRefresh=!1},req_initOrderListInfo:function(e,o){e.orderPageNum++;var n="";void 0!=a.default.state.nowRoom.id&&(n=a.default.state.nowRoom.id),u({url:"/api/zxkj/order/mobileVersionGetsOrderListData",data:{pageNum:e.orderPageNum,pageSize:30,roomId:n,index:o},header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){200==o.data.code?0!=o.data.data?(o.data.data.forEach((function(o){"美团"==o.source?o.originClass="meituan":"携程"==o.source?o.originClass="xiecheng":"微信"==o.source?o.originClass="weixin":o.originClass="",o.checkin=m(!1,o.checkin),o.checkout=m(!1,o.checkout),e.orderList.push(o)})),setTimeout((function(){e.needResetHeight=!0}),5)):(uni.showToast({title:"没有更多了",duration:2e3,icon:"none"}),e.orderPageCanReq=!1):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},resetHeightFalse:function(e){e.needResetHeight=!1},resetOrderPageNum:function(e,o){e.orderPageNum=0,e.orderList=[],e.orderPageCanReq=!0,o&&(a.default.state.nowRoom={})},req_initOrderDetailInfo:function(o,n){""==n||(o.orderId=n),u({url:"/api/zxkj/order/mobileVersionGetOrderDetail",data:{orderId:o.orderId},header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){if(200==n.data.code){var t=n.data.data;t.createTime=t.createTime.replace(/T/," "),51==t.state?(t.stateName="待付款",t.stateClass="bgYellow"):52==t.state?(t.stateName="待入住",t.stateClass="bgYellow"):112==t.state?(t.stateName="入住中",t.stateClass="bgGreen"):62==t.state?(t.stateName="待退款",t.stateClass="bgRed"):63==t.state?(t.stateName="订单完成",t.stateClass="bgGreen"):54==t.state&&(t.stateName="交易取消",t.stateClass="name");for(var a=0;a<t.roomTypeList.length;a++)t.roomTypeList[a].checkin=m(!1,t.roomTypeList[a].checkin),t.roomTypeList[a].checkout=m(!1,t.roomTypeList[a].checkout);o.orderDetailInfo=t,e.log(o.orderDetailInfo)}else uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},req_refund:function(e,o){var n=this;u({url:"/api/zxkj/refundApplication/confirmRefund",data:{id:o.id,refundPrice:o.refundPrice},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){200==e.data.code?(uni.showToast({title:"退款成功",duration:2e3}),n.commit("req_initOrderDetailInfo","")):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},continueDays:function(e,o){e.addedDays=o,this.commit("req_continueDays")},req_continueDays:function(e){u({url:"/api/zxkj/room/mayRenewTheRoom",data:{roomId:a.default.state.nowRoom.id,addedDays:e.addedDays},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){200==e.data.code||(-1==e.data.code?uni.showModal({title:"提示",content:e.data.msg,showCancel:!1}):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1}))}})},setContinuePrice:function(e,o){e.continuePrice=o},req_confirmContinue:function(e){u({url:"/api/zxkj/room/continuedHousingOperation",data:{roomId:a.default.state.nowRoom.id,addedDays:e.addedDays,additionalRoomRates:e.continuePrice},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){200==e.data.code?uni.showToast({title:"续房成功",duration:2e3}):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})}},s={initCreateInfo:function(e){var o=e.commit;o("req_initCreateInfo")},createOrder:function(e){var o=e.commit;o("isFormOK")},initOrderListInfo:function(e,o){var n=e.commit;n("req_initOrderListInfo",o)},initOrderDetailInfo:function(e,o){var n=e.commit;n("req_initOrderDetailInfo",o)},refund:function(e,o){var n=e.commit;n("req_refund",o)},confirmContinue:function(e){var o=e.commit;o("req_confirmContinue")}},c={state:i,actions:s,mutations:r};function u(o){o.showLoading=void 0==o.showLoading||o.showLoading,o.method=void 0==o.method?"POST":o.method,o.header=void 0==o.header?{"X-Requested-With":"XMLHttpRequest"}:o.header;var n=uni.getStorageSync("userList"),t=uni.getStorageSync("current"),a=null;""==n||null==n||void 0==n?(n="{}",a=JSON.parse(n)):a=n,o.header.token=a[t],o.header["X-Requested-With"]="XMLHttpRequest",o.showLoading&&uni.showLoading({mask:!0,title:o.showLoadingTitle?o.showLoadingTitle:"加载中..."}),uni.request({url:o.url,data:o.data,header:o.header,method:o.method,success:function(n){if(o.success(n),401==n.data.code)uni.showToast({title:"登录已过期",duration:2e3,icon:"none"}),delete a[t],uni.setStorageSync("userList",JSON.stringify(a)),0===Object.keys(a).length?setTimeout((function(){uni.reLaunch({url:"/pages/login/login"})}),2e3):(uni.setStorageSync("current",g(a)),uni.reLaunch({url:"/pages/home/home"}));else if(void 0!=n.header.authorization){var r=n.header.authorization;t=uni.getStorageSync("current"),r&&(a[t]=r,uni.setStorageSync("userList",a),e.log(i),i.loginData=uni.getStorageInfoSync("userList"))}},complete:function(){o.showLoading&&uni.hideLoading()}})}function g(e){for(var o in e)return o}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=new Date;o=new Date(o.setDate(o.getDate()+e));var n=o.getFullYear(),t=o.getMonth()+1,a=o.getDate();t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a);var i=n+"-"+t+"-"+a;return i}function m(e,o){var n=new Date(o),t=""+(n.getMonth()+1),a=""+n.getDate();if(e)var i=n.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),e?[i,t,a].join("-"):[t,a].join("-")}o.default=c}).call(this,n("5a52")["default"])},af97:function(e,o,n){"use strict";(function(e){var t=n("ee27");n("b64b"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;t(n("3fe6"));var a={username:"",password:"",isRotate:!1,loginData:[],loginIndex:0},i={initUserInfo:function(e){e.username=uni.getStorageSync("username"),e.password=uni.getStorageSync("password")},initLoginData:function(e){var o=uni.getStorageSync("userList"),n=uni.getStorageSync("userList");for(var t in e.loginData=[],n)e.loginData.push(t);for(var a=0;a<e.loginData.length;a++)e.loginData[a]==o&&(e.loginIndex=a)},loginChange:function(e,o){e.loginIndex=o,uni.setStorageSync("current",e.loginData[o]),uni.reLaunch({url:"/pages/home/home"})},isLogin:function(e){var o=uni.getStorageSync("userList");uni.getStorageSync("autoLogin")&&""!=o&&null!=o&&void 0!=o&&"{}"!=o?uni.reLaunch({url:"/pages/home/home"}):this.commit("initUserInfo")},setPhoneData:function(e,o){e.username=o},setPassData:function(e,o){e.password=o},req_login:function(e){if(e.isRotate)return!1;""!=e.username.length?""!=e.password.length?(c({url:"/api/zxkj/staff/login",data:{username:e.username,password:e.password,securityUser:"2"},header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){200==o.data.code?(uni.setStorageSync("current",e.username),uni.setStorageSync("username",e.username),uni.setStorageSync("password",e.password),uni.setStorageSync("autoLogin",!0),uni.switchTab({url:"/pages/home/home"})):-1==o.data.code?uni.showToast({title:o.data.msg,duration:2e3,icon:"none"}):uni.showToast({title:"服务器错误",duration:2e3,icon:"none"})}}),e.isRotate=!0,setTimeout((function(){e.isRotate=!1}),3e3)):uni.showToast({icon:"none",position:"bottom",title:"请输入密码"}):uni.showToast({icon:"none",position:"bottom",title:"用户名不能为空"})},req_logout:function(e){c({url:"/api/zxkj/exit",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){if(200==e.data.code){var o=uni.getStorageSync("userList");delete o[uni.getStorageSync("current")],0===Object.keys(o).length?(uni.reLaunch({url:"/pages/login/login"}),uni.setStorageSync("autoLogin",!1)):(uni.setStorageSync("current",u(o)),uni.setStorageSync("userList",o),uni.reLaunch({url:"/pages/home/home"}))}else uni.showToast({title:"服务器错误",duration:2e3,icon:"none"})}})},logoutAll:function(e){uni.setStorageSync("userList",""),uni.setStorageSync("autoLogin",!1),uni.reLaunch({url:"/pages/login/login"})}},r={startLogin:function(e){var o=e.commit;o("req_login")},logout:function(e){var o=e.commit;o("req_logout")}},s={state:a,actions:r,mutations:i};function c(o){o.showLoading=void 0==o.showLoading||o.showLoading,o.method=void 0==o.method?"POST":o.method,o.header=void 0==o.header?{"X-Requested-With":"XMLHttpRequest"}:o.header;var n=uni.getStorageSync("userList"),t=uni.getStorageSync("current"),i=null;""==n||null==n||void 0==n||"{}"==n?(n="{}",i=JSON.parse(n)):i=n,o.header.token=i[t],o.header["X-Requested-With"]="XMLHttpRequest",o.showLoading&&uni.showLoading({mask:!0,title:o.showLoadingTitle?o.showLoadingTitle:"加载中..."}),uni.request({url:o.url,data:o.data,header:o.header,method:o.method,success:function(n){if(o.success(n),401==n.data.code)uni.showToast({title:"登录已过期",duration:2e3,icon:"none"}),delete i[t],uni.setStorageSync("userList",JSON.stringify(i)),0===Object.keys(i).length?setTimeout((function(){uni.reLaunch({url:"/pages/login/login"})}),2e3):(uni.setStorageSync("current",u(i)),uni.reLaunch({url:"/pages/home/home"}));else if(void 0!=n.header.authorization){var r=n.header.authorization;if(t=uni.getStorageSync("current"),r)for(var s in e.log(typeof i),i[t]=r,uni.setStorageSync("userList",i),a.loginData=[],i)a.loginData.push(s)}},complete:function(){o.showLoading&&uni.hideLoading()}})}function u(e){for(var o in e)return o}o.default=s}).call(this,n("5a52")["default"])},b04a:function(e,o,n){"use strict";n("4160"),n("b64b"),n("159b"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t={roomStatePageNum:1,roomList:[],roomStateCountList:[0,0,0,0,0,0,0],fabCont:[],typePikerData:[],typePikerNameData:[],typePikerIndex:0,nowTypeId:"",floorpikerData:[],floorIndex:0,nowFloor:"",showEmpty:!1,reqKong:"",nowRoom:{},changeRoomInfo:{},changeRoomName:[],changeRoomIndex:0,changeFlag:!1,current:""},a={initHomeFloor:function(e){e.floorpikerData=["选择楼层"];for(var o=1;o<=50;o++)e.floorpikerData.push(o+"楼")},initStateInfo:function(e){e.roomStateCountList=[0,0,0,0,0,0,0],e.fabCont=[{iconPath:"/static/icon/kongxian.svg",selectedIconPath:"/static/icon/kongxian.svg",text:"空闲",active:!1},{iconPath:"/static/icon/yuliu.svg",selectedIconPath:"/static/icon/yuliu.svg",text:"预留",active:!1},{iconPath:"/static/icon/zaizhu.svg",selectedIconPath:"/static/icon/zaizhu.svg",text:"在住",active:!1},{iconPath:"/static/icon/chaoshi.svg",selectedIconPath:"/static/icon/chaoshi.svg",text:"超时",active:!1},{iconPath:"/static/icon/dasao.svg",selectedIconPath:"/static/icon/dasao.svg",text:"打扫",active:!1},{iconPath:"/static/icon/weixiu.svg",selectedIconPath:"/static/icon/weixiu.svg",text:"维修",active:!1},{iconPath:"/static/icon/baoliu.svg",selectedIconPath:"/static/icon/baoliu.svg",text:"保留",active:!1}]},req_initRoomStatus:function(e){var o=this,n={pageNum:e.roomStatePageNum,length:1e3,start:u(),end:u(1),"#rt.id":e.nowTypeId,"#floor":e.nowFloor,"#r.state":e.reqKong},t=JSON.stringify(n);s({url:"/api/zxkj/room/getIconListData",data:{postData:t},header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){if(200==n.data.code){var t=n.data.data.data;o.commit("initStateInfo");for(var a=0;a<t.length;a++)"空闲"==t[a].state?1==t[a].canTheHousing?(e.roomStateCountList[0]++,t[a].state="kongxian"):(e.roomStateCountList[1]++,t[a].state="yuliu"):"在用"==t[a].state?(e.roomStateCountList[2]++,t[a].state="zaizhu"):"超时"==t[a].state?(e.roomStateCountList[3]++,t[a].state="chaoshi"):"打扫"==t[a].state?(e.roomStateCountList[4]++,t[a].state="dasao"):"维修"==t[a].state?(e.roomStateCountList[5]++,t[a].state="weixiu"):"保留"==t[a].state&&(e.roomStateCountList[6]++,t[a].state="baoliu");for(var i=0;i<e.fabCont.length;i++)e.fabCont[i].text=e.fabCont[i].text+e.roomStateCountList[i];e.roomList=t}else uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},req_initRoomType:function(e){s({url:"/api/zxkj/roomType/getNameByHotelId",data:{startTime:u(),endTime:u(1)},method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){200==o.data.code?(e.typePikerData=o.data.data,e.typePikerNameData=["选择房型"],o.data.data.forEach((function(o){e.typePikerNameData.push(o.name)}))):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},homeRoomTypeChange:function(e,o){e.typePikerIndex=o,e.typePikerIndex<=0?e.nowTypeId="":e.nowTypeId=e.typePikerData[e.typePikerIndex-1].id,this.commit("req_initRoomStatus")},homeFloorChange:function(e,o){e.floorIndex=o,e.floorIndex<=0?e.nowFloor="":e.nowFloor=o,this.commit("req_initRoomStatus")},emptyChange:function(e,o){e.showEmpty=o,e.reqKong=o?4:"",this.commit("req_initRoomStatus")},chooseRoomId:function(e,o){e.nowRoom=o},req_ChangeRoomState:function(e,o){var n=this;s({url:"/api/zxkj/room/updateStateById",method:"GET",data:{id:e.nowRoom.id,state:o},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){200==e.data.code?(uni.showToast({title:"成功",duration:2e3}),n.commit("req_initRoomStatus")):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},req_OpenRoom:function(e){s({url:"/api/zxkj/room/sweep/openLockByRoomId",data:{roomId:e.nowRoom.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){200==e.data.code?uni.showToast({title:"成功",duration:2e3}):-1==e.data.code||0==e.data.code||-2==e.data.code?uni.showModal({title:"提示",content:e.data.msg,showCancel:!1}):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},req_checkout:function(e){var o=this;s({url:"/api/zxkj/room/checkOutByRoomId",data:{roomId:e.nowRoom.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){200==e.data.code?(uni.showToast({title:"退房成功",duration:2e3}),o.commit("req_initRoomStatus")):-1==e.data.code?uni.showModal({title:"提示",content:e.data.msg,showCancel:!1}):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},req_initChangeRoom:function(e){s({url:"/api/zxkj/room/getQtExchangeRoomsByRoomId/"+e.nowRoom.id,method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){if(200==o.data.code){var n=o.data.data;n.rooms.unshift({door:"选择房间",id:""}),e.changeRoomName=[],n.rooms.forEach((function(o){e.changeRoomName.push(o.door)})),e.changeRoomInfo=n}else-1==o.data.code?uni.showModal({title:"提示",content:o.data.msg,showCancel:!1}):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},setChangeRoomIndex:function(e,o){e.changeRoomIndex=o},req_confirmChange:function(e){var o=this;s({url:"/api/zxkj/OrderRoom/exchangeRoomByOldRoomIdAndNewRoomId",data:{newRoomId:e.changeRoomInfo.rooms[e.changeRoomIndex].id,oldOrderRoomId:e.changeRoomInfo.orderRoomId},header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){200==n.data.code?(e.changeFlag=!0,e.changeRoomIndex=0,o.commit("req_initRoomStatus"),uni.showToast({title:"换房成功",duration:2e3})):-1==n.data.code?uni.showModal({title:"提示",content:n.data.msg,showCancel:!1}):uni.showModal({title:"提示",content:"服务器错误",showCancel:!1})}})},setChangeFlag:function(e){e.changeFlag=!1}},i={initRoomStatus:function(e){var o=e.commit;o("req_initRoomStatus")},initRoomType:function(e){var o=e.commit;o("req_initRoomType")},changeRoomState:function(e,o){var n=e.commit;n("req_ChangeRoomState",o)},openRoom:function(e,o){var n=e.commit;n("req_OpenRoom")},checkout:function(e){var o=e.commit;o("req_checkout")},initChangeRoom:function(e){var o=e.commit;o("req_initChangeRoom")},confirmChange:function(e){var o=e.state,n=e.commit;0==o.changeRoomIndex?uni.showToast({title:"请选择房间",duration:2e3,icon:"none"}):n("req_confirmChange")}},r={state:t,actions:i,mutations:a};function s(e){e.showLoading=void 0==e.showLoading||e.showLoading,e.method=void 0==e.method?"POST":e.method,e.header=void 0==e.header?{"X-Requested-With":"XMLHttpRequest"}:e.header;var o=uni.getStorageSync("userList"),n=uni.getStorageSync("current");t.current=n;var a=null;""==o||null==o||void 0==o?(o="{}",a=JSON.parse(o)):a=o,e.header.token=a[n],e.header["X-Requested-With"]="XMLHttpRequest",e.showLoading&&uni.showLoading({mask:!0,title:e.showLoadingTitle?e.showLoadingTitle:"加载中..."}),uni.request({url:e.url,data:e.data,header:e.header,method:e.method,success:function(o){if(e.success(o),401==o.data.code)uni.showToast({title:"登录已过期",duration:2e3,icon:"none"}),delete a[n],uni.setStorageSync("userList",JSON.stringify(a)),0===Object.keys(a).length?setTimeout((function(){uni.reLaunch({url:"/pages/login/login"})}),2e3):(uni.setStorageSync("current",c(a)),uni.reLaunch({url:"/pages/home/home"}));else if(void 0!=o.header.authorization){var t=o.header.authorization;n=uni.getStorageSync("current"),t&&(a[n]=t,uni.setStorageSync("userList",a))}},complete:function(){e.showLoading&&uni.hideLoading()}})}function c(e){for(var o in e)return o}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=new Date;o=new Date(o.setDate(o.getDate()+e));var n=o.getFullYear(),t=o.getMonth()+1,a=o.getDate();t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a);var i=n+"-"+t+"-"+a;return i}o.default=r},cc49:function(e,o,n){var t=n("24fb");o=t(!1),o.push([e.i,'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* 解决头条小程序组件内引入字体不生效的问题 */\nhtml{\r\n\t/* max-width: 1300px; */text-align:center;margin:0 auto}.clearfix::before,\r\n.clearfix::after{content:"";display:table}.clearfix::after{clear:both}.clearfix{*zoom:1}.uni-swiper{min-height:80vh}',""]),e.exports=o},df25:function(e,o,n){"use strict";var t,a=function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("App",{attrs:{keepAliveInclude:e.keepAliveInclude}})},i=[];n.d(o,"b",(function(){return a})),n.d(o,"c",(function(){return i})),n.d(o,"a",(function(){return t}))},f5a4:function(e,o,n){var t=n("cc49");"string"===typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);var a=n("4f06").default;a("70c78006",t,!0,{sourceMap:!1,shadowMode:!1})}});